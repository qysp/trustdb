<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>EZStore</h1><p>Promise-based, lightweight in-memory and persistent JavaScript/JSON database.</p>
<p>Inspired by <a href="https://github.com/techfort/LokiJS">LokiJS</a>.</p>
<h2>Getting started</h2><p>Connect to the database, given a filepath and wanted settings.</p>
<p><strong>NOTE</strong>: Assuming everything happens in asynchronus block.</p>
<pre class="prettyprint source lang-js"><code>const db = require('ezstore');

await db.connect('/path/to/file.json', {
  autosave: true, // default: false
  autosaveInterval: 10000, // in ms; default: 4000
});</code></pre><p>Create a collection.</p>
<pre class="prettyprint source lang-js"><code>const repoCollection = await db.createCollection('repoCollection');</code></pre><p>Optional: add an event listener an event, like <code>insert</code> or <code>remove</code>.</p>
<pre class="prettyprint source lang-js"><code>// Asynchronous events are allowed too!
repoCollection.on('insert', async (documents) => {
  console.log(`Number of documents in ${repoCollection.name} after insert: ${documents.length}`);
  await db.save();
});</code></pre><p>Insert documents.</p>
<pre class="prettyprint source lang-js"><code>// Some example documents.
const repositories = [{
    url: 'https://github.com/qysp/ezstore',
    title: 'ezstore',
    description: 'Promise-based, lightweight in-memory and persistent JavaScript/JSON database.'
  }, {
    url: 'https://github.com/techfort/LokiJS',
    title: 'LokiJS',
    description: 'Fast document oriented javascript in-memory database'
}];

// Insert them as an array or each document as an individual parameter.
await repoCollection.insert(repositories);

// Use insertOne to only insert one document.
await repoCollection.insertOne({
  url: 'https://github.com/nodejs/node',
  title: 'Node.js',
  description: 'Node.js is a JavaScript runtime built on Chrome\'s V8 JavaScript engine.'
});</code></pre><p>Search for documents.</p>
<pre class="prettyprint source lang-js"><code>// Find all documents where the title ends with 'js' (case insensitive)
const results = await repoCollection.find({ re: ['title', /js$/i] });

// or just the first result that matches the pattern
const result = await repoCollection.findOne({ re: ['title', /js$/i] });</code></pre><p>Remove documents.</p>
<pre class="prettyprint source lang-js"><code>// Remove a single document.
await repoCollection.remove({
  url: 'https://github.com/nodejs/node',
  title: 'Node.js',
  description: 'Node.js is a JavaScript runtime built on Chrome\'s V8 JavaScript engine.'
});

// Or remove multiple with a query.
const removedDocuments = await repoCollection.removeWhere({ re: ['title', /js$/i] });</code></pre><h2>Query functions</h2><ul>
<li>equal: <code>eq</code></li>
<li>not equal: <code>neq</code></li>
<li>greater than: <code>gt</code></li>
<li>less than: <code>lt</code></li>
<li>strict equal: <code>seq</code></li>
<li>strict not equal: <code>sneq</code></li>
<li>deep strict equal: <code>dseq</code></li>
<li>deep not strict equal: <code>dsneq</code></li>
<li>greather than or equal: <code>gte</code></li>
<li>less than or equal: <code>lte</code></li>
<li>starts with: <code>sw</code></li>
<li>ends with: <code>ew</code></li>
<li>type of: <code>type</code></li>
<li>length: <code>len</code></li>
<li>between: <code>betw</code></li>
<li>regex match: <code>re</code></li>
<li>date compare: <code>date</code></li>
</ul>
<h3>Usage examples:</h3><p><strong>NOTE</strong>: The same pattern for the queries can be applied to findOne and removeWhere methods!</p>
<pre class="prettyprint source lang-js"><code>// Find all documents, where the value of the property `someProperty`:

// - equals 30, 30.0, '30', etc.
collection.find({ eq: ['someProperty', 30] });

// - equals exactly 30
collection.find({ seq: ['someProperty', 30] });

// - is the exact same object `{a: 1}`
collection.find({ dseq: ['someProperty', {a: 1}] });

// - ends with 'ing'
collection.find({ ew: ['someProperty', 'ing'] });

// - is of type 'number'
collection.find({ type: ['someProperty', 'number'] });

// - has the length of 5 (array or string)
collection.find({ len: ['someProperty', 5] });

// - is between 5 and 10.
collection.find({ betw: ['someProperty', 5, 10] });

// - matches the regex pattern 'something', case insensitive
collection.find({ re: ['someProperty', /something/i] });

// - equals the date '1/1/1970' (can also be a Date object)
collection.find({ date: ['someProperty', '1/1/1970'] });

// Return all documents of the collection.
// Does not work with the `findOne` or `removeWhere` methods.
// In those cases use the `first` or `clear` methods.
collection.find();</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Collection.html">Collection</a></li><li><a href="Ezstore.html">Ezstore</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed May 01 2019 12:04:36 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>